// Execute the following code when the window has finished loading
window.onload = function () {

  FamilyTree.icon.rose = function (e, t, i, r, a) {
    return `<svg width="${e}" height="${t}" x="${r}" y="${a}"  viewBox="0 0 500.000000 500.000000" preserveAspectRatio="xMidYMid meet">
<g transform="translate(0.000000,500.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
<path fill="${i}" d="M2480 4981 c-5 -11 -10 -34 -10 -51 0 -50 -35 -106 -84 -135 -24 -14 -86 -42 -137 -62 -123 -48 -169 -93 -203 -197 -6 -17 -8 -16 -26 7 -11 14 -45 38 -74 52 -52 25 -58 26 -213 23 -159 -3 -159 -3 -201 24 -23 15 -52 46 -64 68 -38 67 -83 48 -53 -23 21 -50 19 -110 -5 -155 -10 -20 -55 -77 -99 -125 -91 -100 -116 -157 -109 -238 3 -27 4 -49 3 -49 -2 0 -20 7 -41 16 -63 26 -139 14 -231 -37 -169 -93 -164 -91 -225 -87 -40 3 -68 12 -98 32 -38 25 -44 26 -58 12 -14 -13 -12 -19 22 -57 71 -78 79 -130 39 -255 -26 -85 -141 -174 -223 -174 -22 0 -57 7 -77 15 -71 30 -90 -15 -23 -53 22 -12 52 -40 66 -62 28 -43 30 -64 25 -258 -2 -95 0 -108 24 -157 14 -30 38 -64 52 -75 23 -18 24 -20 7 -26 -104 -34 -149 -80 -197 -203 -20 -51 -48 -113 -62 -137 -29 -50 -85 -84 -138 -84 -18 0 -42 -6 -52 -14 -16 -12 -17 -16 -6 -30 7 -9 25 -16 40 -16 95 0 151 -53 206 -193 20 -53 50 -115 66 -137 32 -44 89 -85 132 -96 l29 -7 -36 -36 c-54 -55 -68 -98 -67 -213 0 -55 4 -104 7 -109 12 -20 -7 -118 -29 -151 -13 -18 -42 -45 -65 -61 -69 -46 -51 -80 27 -52 92 32 142 13 261 -98 96 -90 159 -120 240 -115 51 2 59 1 54 -12 -19 -45 -26 -90 -21 -132 6 -48 13 -65 90 -211 58 -108 62 -154 19 -231 -16 -28 -27 -57 -25 -64 7 -19 41 -14 53 8 19 35 92 70 147 70 114 0 198 -47 264 -149 33 -52 38 -104 14 -172 -13 -37 -14 -45 -1 -57 15 -16 13 -17 78 61 53 65 74 71 228 63 161 -7 219 5 280 60 l39 35 21 -48 c38 -86 82 -119 246 -182 113 -44 164 -101 164 -185 0 -37 21 -61 45 -52 10 3 15 19 15 44 0 50 37 122 78 149 18 12 76 39 129 59 114 46 183 101 209 169 l16 44 41 -35 c64 -54 117 -65 277 -58 159 8 193 -2 241 -70 48 -69 49 -70 66 -53 13 13 13 20 -1 61 -32 93 -13 145 90 256 104 112 119 141 119 228 0 68 1 73 20 67 11 -4 52 -9 90 -12 68 -5 73 -4 150 37 175 94 178 95 236 95 44 0 64 -6 98 -28 43 -29 71 -30 71 -4 0 8 -8 21 -17 28 -9 8 -29 32 -45 53 -34 47 -38 116 -12 208 14 48 26 67 68 105 56 51 117 82 158 83 15 0 48 -7 74 -16 41 -14 48 -14 61 -1 17 17 16 18 -53 66 -68 48 -78 82 -70 240 8 160 -4 214 -58 278 l-35 41 44 16 c68 26 123 95 169 209 61 157 97 193 199 206 43 5 52 9 52 26 0 21 -20 30 -88 40 -62 10 -111 62 -148 158 -63 165 -95 209 -182 247 l-48 21 35 39 c55 61 67 119 60 280 -9 171 -2 185 118 272 21 15 22 18 7 32 -14 15 -19 15 -58 1 -56 -19 -114 -19 -152 0 -16 9 -64 47 -107 86 -114 104 -151 124 -238 124 l-71 0 15 35 c9 22 13 56 10 95 -4 62 -7 70 -96 238 -51 96 -54 133 -12 212 35 66 36 71 14 79 -11 4 -31 -7 -59 -33 -64 -59 -108 -69 -202 -46 -67 15 -84 24 -128 66 -57 54 -95 121 -95 166 0 17 7 50 15 74 9 24 13 49 11 56 -9 22 -35 15 -53 -14 -61 -99 -85 -108 -275 -105 -177 3 -207 -4 -269 -64 l-36 -36 -7 29 c-11 43 -52 100 -96 132 -22 16 -83 46 -136 66 -138 54 -194 110 -194 198 0 51 -30 74 -50 38z m44 -176 c24 -36 79 -70 180 -109 117 -46 159 -75 184 -128 22 -46 31 -91 19 -95 -25 -9 -38 -2 -32 18 13 41 -52 78 -83 47 -7 -7 -12 -20 -12 -30 0 -12 -8 -18 -23 -18 -17 0 -26 9 -36 36 -18 48 -88 118 -135 134 -21 7 -66 10 -101 8 -88 -5 -148 -43 -189 -120 -24 -45 -36 -58 -54 -58 -13 0 -21 4 -18 8 9 15 -25 52 -48 52 -29 0 -46 -18 -46 -51 0 -18 -6 -28 -20 -32 -16 -4 -20 0 -20 21 1 38 32 102 67 134 16 16 69 44 118 64 129 52 158 69 191 108 16 19 32 35 35 35 4 1 14 -10 23 -24z m49 -199 c32 -13 97 -78 97 -96 0 -19 -16 -10 -33 20 -36 60 -142 89 -207 55 -15 -8 -42 -31 -59 -52 -39 -47 -53 -36 -16 13 49 64 145 91 218 60z m-1042 -23 c29 -15 57 -18 183 -15 82 1 165 -2 186 -8 36 -10 120 -86 120 -110 0 -20 -37 -10 -48 14 -24 52 -96 31 -90 -27 4 -42 -21 -47 -65 -13 -164 126 -386 25 -392 -178 -2 -67 -19 -86 -48 -55 -20 21 -57 25 -75 7 -15 -15 -15 -51 0 -66 8 -8 8 -15 -2 -27 -20 -24 -27 -18 -40 35 -21 88 -3 133 105 250 81 88 115 143 115 185 0 30 6 31 51 8z m1989 0 c0 -33 47 -117 95 -170 41 -46 56 -56 126 -78 84 -26 150 -32 193 -15 26 9 26 9 26 -44 0 -55 10 -79 93 -227 50 -88 57 -147 27 -217 -24 -55 -31 -60 -49 -38 -10 12 -8 19 8 35 25 25 26 30 5 59 -18 26 -50 29 -74 7 -15 -14 -19 -14 -30 0 -10 11 -10 25 0 65 44 182 -137 339 -315 275 -22 -8 -40 -15 -41 -15 -1 0 -4 23 -7 52 -22 180 -249 274 -382 157 -40 -35 -71 -35 -68 0 4 30 -12 57 -36 64 -23 6 -61 -18 -61 -39 0 -15 -35 -20 -44 -5 -10 15 63 88 104 105 34 13 72 16 198 14 133 -3 162 0 187 14 38 22 45 22 45 1z m-959 -50 c16 -10 29 -21 29 -25 0 -4 -16 2 -35 13 -39 23 -93 20 -115 -6 -7 -8 -17 -15 -22 -15 -15 0 13 31 37 40 33 14 75 11 106 -7z m-825 -122 c39 -18 65 -41 47 -41 -5 0 -26 9 -48 20 -98 50 -208 -4 -236 -116 -15 -58 -29 -57 -18 3 23 119 145 184 255 134z m1679 0 c50 -22 91 -69 105 -119 11 -42 13 -62 4 -62 -17 0 -44 23 -44 38 0 28 -37 80 -69 97 -35 17 -103 20 -132 4 -20 -11 -59 -4 -59 11 0 15 84 50 120 50 19 0 53 -9 75 -19z m-646 -46 c1071 -156 1795 -1182 1580 -2240 -74 -361 -240 -674 -503 -944 -217 -222 -465 -378 -750 -470 -631 -206 -1303 -77 -1807 346 -357 299 -587 716 -655 1183 -23 161 -16 461 15 614 163 807 809 1411 1621 1515 113 15 384 12 499 -4z m-1071 -13 c8 -5 -6 -9 -34 -9 -43 0 -51 -4 -81 -38 -33 -39 -42 -40 -22 -4 23 43 102 72 137 51z m1699 -47 l28 -26 -45 22 c-56 27 -58 29 -32 29 11 0 34 -11 49 -25z m402 -129 c54 -28 85 -80 89 -152 3 -35 0 -64 -5 -64 -18 0 -33 24 -33 53 0 82 -65 139 -153 136 -77 -3 -104 19 -49 40 35 13 112 7 151 -13z m-2646 -92 c56 -19 73 -36 52 -54 -12 -10 -18 -9 -30 4 -19 19 -56 21 -73 4 -17 -17 -15 -53 3 -68 14 -12 14 -15 -1 -31 -12 -14 -21 -16 -41 -8 -44 16 -133 11 -180 -12 -108 -52 -162 -189 -118 -296 8 -19 15 -37 15 -38 0 -1 -20 -5 -45 -8 -194 -27 -279 -237 -159 -394 34 -44 29 -69 -13 -65 -58 6 -79 -66 -27 -90 24 -11 34 -48 14 -48 -24 0 -100 84 -110 120 -6 21 -9 104 -8 186 3 126 0 154 -15 183 -23 45 -22 51 8 51 39 0 97 34 163 95 56 52 61 61 82 136 21 78 23 152 7 189 -6 12 3 15 45 17 56 1 91 15 202 77 120 68 154 76 229 50z m2614 -8 c15 -13 25 -27 22 -30 -3 -3 -21 8 -40 24 -19 16 -29 29 -22 30 7 0 25 -11 40 -24z m-2727 -195 c0 -16 -24 -29 -69 -36 -29 -5 -56 -18 -80 -40 -34 -31 -36 -38 -37 -97 -3 -104 -23 -129 -44 -53 -34 121 55 235 183 235 26 0 47 -4 47 -9z m-80 -98 c-1 -5 -14 -24 -30 -43 -22 -25 -30 -30 -30 -17 0 10 11 29 25 42 25 26 35 31 35 18z m3320 -58 c17 -9 67 -49 113 -91 87 -79 145 -114 191 -114 15 0 26 -3 24 -7 -42 -82 -45 -103 -39 -300 3 -94 1 -106 -22 -145 -32 -55 -85 -96 -98 -77 -13 21 -11 27 11 34 30 10 44 42 31 72 -10 21 -17 24 -46 21 -51 -6 -54 20 -11 76 105 138 35 334 -137 377 -26 6 -60 9 -75 6 -21 -4 -31 -1 -40 14 -10 16 -10 21 3 25 9 4 20 15 26 26 23 42 -45 90 -79 56 -8 -8 -15 -8 -27 2 -23 19 -19 27 23 38 46 13 112 7 152 -13z m-3512 -217 c-3 -7 -28 -24 -56 -38 -29 -14 -61 -38 -72 -55 -22 -33 -27 -104 -9 -137 13 -24 3 -72 -12 -62 -19 11 -49 88 -49 124 0 92 82 180 168 180 23 0 32 -4 30 -12z m3555 -2 c66 -28 107 -93 107 -168 0 -42 -34 -128 -51 -128 -13 0 -12 5 11 47 37 70 19 171 -39 212 -14 10 -48 25 -76 34 -46 14 -48 15 -17 16 18 1 47 -5 65 -13z m3 -90 c27 -27 34 -42 34 -74 0 -23 -4 -44 -10 -47 -6 -4 -7 6 -4 24 9 42 -13 89 -47 107 -30 15 -37 24 -18 24 6 0 26 -15 45 -34z m-3635 -53 c-15 -28 -20 -32 -21 -18 0 21 29 70 37 62 2 -3 -5 -22 -16 -44z m-158 -473 c-4 -14 -14 -20 -32 -20 -57 0 -71 -59 -21 -88 16 -9 30 -24 30 -32 0 -8 -26 -29 -58 -46 -78 -42 -115 -101 -120 -193 -3 -54 0 -76 18 -114 25 -52 77 -101 128 -119 23 -9 32 -18 32 -35 0 -15 -6 -23 -18 -23 -24 0 -42 -19 -42 -46 0 -32 28 -57 55 -50 17 4 24 1 28 -14 7 -27 2 -29 -46 -18 -90 20 -131 65 -182 203 -35 92 -68 148 -107 178 l-31 25 37 33 c41 35 68 84 111 198 15 40 42 89 59 109 34 39 96 71 138 72 21 0 25 -4 21 -20z m4008 8 c77 -26 86 -37 192 -269 24 -52 46 -85 71 -104 l37 -28 -27 -18 c-40 -26 -78 -88 -118 -191 -54 -137 -96 -181 -188 -198 -35 -7 -38 -6 -38 17 0 19 4 23 19 18 24 -7 49 3 62 27 13 25 -13 68 -41 68 -38 0 -24 38 23 61 116 58 167 166 132 284 -19 66 -81 136 -138 154 -29 10 -37 18 -37 37 0 14 3 23 8 21 4 -3 17 -1 28 3 49 19 28 90 -27 90 -22 0 -29 5 -29 20 0 23 20 26 71 8z m-4041 -236 c0 -5 -14 -18 -31 -31 -44 -33 -69 -79 -69 -129 0 -54 32 -119 71 -140 16 -9 29 -20 29 -24 0 -31 -87 42 -106 89 -31 74 -6 166 58 217 34 27 48 32 48 18z m4055 -23 c48 -43 65 -78 65 -139 0 -61 -27 -119 -69 -149 -50 -36 -56 -23 -8 22 52 48 71 101 58 159 -11 45 -41 89 -75 108 -14 7 -26 17 -26 22 0 16 20 8 55 -23z m-4068 -77 c-29 -31 -32 -77 -9 -117 12 -19 18 -35 14 -35 -20 0 -44 64 -39 102 5 37 34 84 45 73 3 -3 -2 -13 -11 -23z m4063 -66 c0 -25 -8 -51 -20 -66 -11 -14 -20 -20 -19 -15 0 6 6 19 14 29 19 26 19 69 0 109 l-16 32 21 -24 c13 -15 20 -37 20 -65z m-3990 -507 c0 -10 -6 -19 -14 -19 -21 0 -45 -38 -39 -61 7 -24 34 -40 64 -36 35 3 35 -28 1 -67 -40 -46 -55 -96 -50 -166 9 -121 98 -207 222 -217 76 -7 102 -25 68 -49 -24 -17 -29 -53 -10 -72 15 -15 64 -16 73 -2 7 12 35 -5 35 -20 0 -13 -59 -30 -102 -30 -55 0 -106 29 -196 112 -74 68 -157 118 -196 118 -13 0 -16 4 -11 18 34 79 36 98 29 229 -8 159 3 202 68 258 43 36 58 37 58 4z m3957 -21 c46 -48 55 -81 52 -188 -5 -171 -2 -215 20 -259 l21 -41 -22 0 c-41 -1 -108 -39 -168 -96 -49 -46 -63 -68 -81 -123 -23 -67 -30 -159 -16 -197 7 -20 4 -22 -51 -26 -32 -2 -76 -13 -98 -25 -21 -11 -79 -41 -127 -67 -101 -53 -141 -58 -218 -25 -53 23 -57 30 -34 49 13 11 18 10 28 -2 17 -21 38 -27 63 -18 30 12 36 45 13 74 -16 20 -17 25 -4 36 11 9 26 9 68 0 152 -34 288 77 287 234 -1 34 -7 72 -15 86 -21 36 -19 40 23 40 50 0 132 40 166 81 80 94 80 209 0 316 -28 37 -23 66 10 57 14 -3 31 2 46 14 21 17 23 24 15 48 -7 18 -19 30 -33 32 -23 4 -26 10 -16 36 8 20 27 10 71 -36z m-3887 -191 c0 -1 -9 -20 -20 -42 -53 -103 9 -223 125 -242 33 -5 50 -23 23 -23 -94 0 -188 95 -188 190 0 39 33 120 50 120 5 0 10 -1 10 -3z m3782 -37 c37 -69 11 -185 -51 -230 -31 -21 -117 -47 -126 -38 -13 13 15 46 43 51 43 9 90 53 103 97 10 33 9 47 -5 83 -28 74 0 103 36 37z m-3756 -61 c-8 -40 15 -89 52 -111 17 -11 21 -18 11 -18 -21 0 -66 49 -74 83 -7 27 0 77 11 77 4 0 4 -14 0 -31z m3679 -31 c-9 -29 -35 -71 -41 -66 -6 7 30 88 39 88 5 0 5 -10 2 -22z m-144 -295 c18 -47 6 -127 -25 -168 -42 -55 -82 -75 -148 -75 -83 0 -75 32 10 43 59 7 90 31 114 84 16 36 18 53 11 77 -7 21 -6 37 1 49 15 24 25 21 37 -10z m-112 -119 c-34 -37 -44 -29 -12 11 15 19 30 30 32 24 2 -6 -7 -21 -20 -35z m-3112 -62 c-23 -25 -21 -58 4 -75 23 -17 58 -11 66 10 5 11 9 11 24 -3 14 -12 16 -21 8 -41 -15 -41 -10 -135 10 -178 23 -49 74 -99 123 -119 47 -20 138 -20 185 -1 19 8 36 15 37 15 0 0 2 -20 2 -45 2 -61 40 -132 92 -171 84 -65 201 -64 288 2 56 43 82 40 76 -10 -3 -27 0 -37 17 -46 29 -15 60 -4 73 26 12 26 16 28 37 15 19 -13 -22 -66 -77 -98 -39 -23 -51 -25 -145 -22 -197 6 -218 3 -299 -39 -5 -2 -8 10 -8 26 0 38 -34 99 -93 167 -42 48 -56 57 -120 77 -74 22 -152 29 -197 16 -24 -7 -25 -5 -26 42 0 49 -11 74 -104 248 -42 79 -46 144 -11 211 21 40 24 42 39 28 14 -15 14 -18 -1 -35z m174 -149 c8 -9 13 -25 11 -35 -2 -10 6 -39 18 -63 28 -58 86 -88 151 -79 33 5 48 2 57 -9 11 -12 8 -17 -19 -26 -63 -22 -145 -6 -192 37 -33 30 -57 89 -57 142 0 52 8 61 31 33z m137 -122 c-13 -4 -60 30 -66 49 -3 7 14 0 36 -16 22 -16 36 -31 30 -33z m2469 -76 c7 -71 -15 -116 -113 -224 -76 -84 -113 -146 -114 -189 l0 -22 -41 21 c-44 22 -89 25 -259 20 -114 -4 -149 8 -204 69 -30 33 -35 44 -25 51 21 13 39 11 39 -5 0 -19 27 -46 46 -46 25 0 56 40 50 65 -9 34 19 39 57 11 57 -43 98 -58 156 -58 135 -1 241 104 241 240 0 56 19 79 43 50 23 -28 47 -29 73 -2 25 24 25 26 9 50 -16 24 -15 26 2 39 24 18 33 2 40 -70z m-2245 -67 c9 -7 21 -30 28 -51 23 -72 113 -113 183 -84 35 15 77 13 77 -3 0 -16 -87 -50 -128 -50 -52 0 -90 14 -125 48 -37 35 -49 58 -57 110 -7 45 -3 50 22 30z m2025 -22 c-9 -58 -38 -106 -78 -133 -63 -42 -157 -43 -209 -3 -35 27 -19 35 21 11 45 -28 122 -28 167 -1 39 24 70 72 78 123 4 20 11 37 17 37 5 0 7 -14 4 -34z m-87 -42 c-8 -14 -27 -32 -42 -40 -31 -16 -94 -19 -103 -5 -3 6 8 8 28 4 42 -6 93 18 109 53 6 13 14 22 16 19 3 -3 -1 -17 -8 -31z m-1771 -21 c2 -2 2 -6 -2 -9 -7 -8 -77 26 -77 37 0 7 58 -14 79 -28z m458 -164 c-8 -29 33 -70 62 -62 24 6 45 38 36 53 -3 6 5 10 19 10 19 0 27 -8 37 -37 18 -57 88 -119 154 -138 118 -35 226 16 284 133 23 45 61 60 61 23 0 -25 35 -50 61 -44 25 7 42 38 34 63 -5 16 -2 20 18 20 23 0 24 -3 17 -37 -17 -93 -61 -135 -198 -189 -103 -40 -165 -78 -191 -118 l-18 -27 -27 36 c-28 36 -90 72 -201 115 -119 47 -167 95 -181 178 -6 39 -5 42 16 42 18 0 21 -4 17 -21z m233 -35 c19 -34 63 -64 108 -75 58 -13 111 6 160 58 44 48 57 42 21 -8 -44 -62 -160 -89 -228 -55 -30 16 -91 80 -91 96 0 19 17 10 30 -16z m210 -4 c-33 -26 -96 -26 -135 0 -34 23 -23 27 15 5 35 -20 84 -18 111 4 13 11 26 17 29 14 3 -2 -6 -13 -20 -23z"/>\n
<path fill="${i}" d="M2476 4764 c-21 -20 -20 -27 3 -48 22 -20 48 -12 57 17 4 14 1 25 -12 34 -23 17 -29 16 -48 -3z"/>\n
<path fill="${i}" d="M2405 4699 c-10 -15 3 -25 16 -12 7 7 7 13 1 17 -6 3 -14 1 -17 -5z"/>\n
<path fill="${i}" d="M2580 4696 c0 -9 5 -16 10 -16 6 0 10 4 10 9 0 6 -4 13 -10 16 -5 3 -10 -1 -10 -9z"/>\n
<path fill="${i}" d="M2325 4671 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M2656 4673 c-11 -11 -6 -23 9 -23 8 0 15 4 15 9 0 13 -16 22 -24 14z"/>\n
<path fill="${i}" d="M2220 4605 c0 -22 4 -26 23 -23 14 2 22 10 22 23 0 13 -8 21 -22 23 -19 3 -23 -1 -23 -23z"/>\n
<path fill="${i}" d="M2734 4615 c-4 -9 -2 -21 4 -27 16 -16 47 -5 47 17 0 26 -42 34 -51 10z"/>\n
<path fill="${i}" d="M1495 4529 c-9 -28 16 -53 43 -45 44 14 33 66 -14 66 -14 0 -25 -8 -29 -21z"/>\n
<path fill="${i}" d="M1800 4525 c-16 -19 -6 -45 19 -45 23 0 35 28 20 46 -15 18 -24 18 -39 -1z"/>\n
<path fill="${i}" d="M1616 4522 c-3 -6 -1 -14 5 -17 15 -10 25 3 12 16 -7 7 -13 7 -17 1z"/>\n
<path fill="${i}" d="M1695 4521 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M1460 4441 c0 -6 5 -13 10 -16 6 -3 10 1 10 9 0 9 -4 16 -10 16 -5 0 -10 -4 -10 -9z"/>\n
<path fill="${i}" d="M1402 4378 c6 -18 28 -21 28 -4 0 9 -7 16 -16 16 -9 0 -14 -5 -12 -12z"/>\n
<path fill="${i}" d="M1334 4295 c-8 -19 3 -35 26 -35 19 0 30 17 23 38 -6 17 -42 15 -49 -3z"/>\n
<path fill="${i}" d="M3443 4534 c-8 -22 10 -49 32 -49 10 0 22 7 28 16 15 24 1 49 -28 49 -15 0 -28 -7 -32 -16z"/>\n
<path fill="${i}" d="M3161 4521 c-13 -23 10 -47 34 -37 20 7 19 42 -1 50 -22 8 -22 8 -33 -13z"/>\n
<path fill="${i}" d="M3280 4514 c0 -9 5 -14 12 -12 18 6 21 28 4 28 -9 0 -16 -7 -16 -16z"/>\n
<path fill="${i}" d="M3366 4521 c-4 -5 -2 -12 3 -15 5 -4 12 -2 15 3 4 5 2 12 -3 15 -5 4 -12 2 -15 -3z"/>\n
<path fill="${i}" d="M3522 4441 c2 -7 7 -12 11 -12 12 1 9 15 -3 20 -7 2 -11 -2 -8 -8z"/>\n
<path fill="${i}" d="M3572 4378 c6 -18 28 -21 28 -4 0 9 -7 16 -16 16 -9 0 -14 -5 -12 -12z"/>\n
<path fill="${i}" d="M3627 4303 c-4 -3 -7 -11 -7 -17 0 -6 5 -5 12 2 6 6 9 14 7 17 -3 3 -9 2 -12 -2z"/>\n
<path fill="${i}" d="M3715 4300 c-4 -6 -3 -16 3 -22 6 -6 12 -6 17 2 4 6 3 16 -3 22 -6 6 -12 6 -17 -2z"/>\n
<path fill="${i}" d="M3876 4274 c-9 -8 -16 -19 -16 -24 0 -11 29 -40 39 -40 9 0 41 33 41 43 0 9 -30 37 -40 37 -5 0 -16 -7 -24 -16z"/>\n
<path fill="${i}" d="M3790 4270 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M3930 4160 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M3962 4089 c2 -6 8 -10 13 -10 5 0 11 4 13 10 2 6 -4 11 -13 11 -9 0 -15 -5 -13 -11z"/>\n
<path fill="${i}" d="M3994 3995 c-8 -19 3 -35 26 -35 19 0 30 17 23 38 -6 17 -42 15 -49 -3z"/>\n
<path fill="${i}" d="M2301 4329 c-340 -36 -692 -185 -967 -409 -100 -83 -248 -241 -326 -351 -174 -243 -288 -528 -330 -824 -18 -131 -15 -397 6 -530 88 -544 411 -1019 887 -1303 494 -296 1130 -334 1663 -100 411 180 752 513 939 917 121 262 175 536 164 835 -10 284 -67 509 -194 761 -151 300 -403 573 -688 745 -348 210 -751 301 -1154 259z m560 -73 c687 -146 1222 -663 1383 -1336 38 -157 46 -227 46 -419 0 -204 -17 -333 -65 -501 -184 -638 -703 -1118 -1367 -1262 -90 -19 -133 -22 -348 -23 -220 0 -256 2 -355 24 -460 98 -851 352 -1121 727 -81 113 -194 339 -238 474 -66 205 -81 309 -81 555 0 272 22 399 106 630 209 565 701 992 1299 1125 145 33 228 39 435 35 153 -3 213 -9 306 -29z"/>\n
<path fill="${i}" d="M2701 3998 c-27 -61 -30 -102 -31 -493 -1 -255 -5 -370 -15 -423 -14 -71 -47 -142 -66 -142 -5 0 -9 -7 -9 -15 0 -22 25 -18 58 10 37 31 79 135 90 220 4 33 4 116 1 185 -9 166 -10 360 -3 399 7 34 27 40 58 16 30 -22 36 -18 30 18 -9 52 -75 256 -85 263 -5 3 -18 -14 -28 -38z"/>\n
<path fill="${i}" d="M2121 3943 c-7 -49 -15 -180 -17 -293 -6 -287 -6 -285 -55 -304 -58 -24 -150 -21 -183 5 l-26 21 43 48 c51 56 78 130 57 155 -19 23 -74 18 -108 -10 -16 -14 -42 -53 -56 -87 l-27 -63 -69 -17 c-143 -34 -236 -104 -331 -250 -75 -114 -116 -119 -106 -14 4 44 17 83 49 145 46 91 124 203 165 236 17 14 24 28 21 45 -3 21 -12 13 -81 -69 -102 -121 -142 -183 -167 -255 -27 -81 -36 -185 -18 -210 14 -17 16 -17 46 -2 17 9 33 16 35 16 2 0 1 -19 -4 -42 -12 -64 -10 -150 4 -177 10 -19 33 -39 55 -47 1 0 -5 -20 -13 -44 -30 -85 -11 -194 29 -161 21 18 21 67 -1 79 -22 13 -12 122 13 137 9 6 66 43 126 83 61 39 118 72 129 72 22 0 21 7 18 -245 -5 -406 -5 -418 14 -453 27 -49 71 -72 140 -72 56 0 58 -1 51 -22 -24 -76 -34 -131 -34 -190 0 -57 4 -71 26 -97 72 -86 366 -94 524 -15 91 46 173 134 190 205 24 97 -6 149 -85 149 -30 0 -47 -6 -63 -23 -27 -29 -52 -88 -52 -125 0 -25 5 -30 41 -41 53 -16 49 -38 -16 -73 -128 -69 -374 -91 -456 -40 -42 25 -59 58 -59 112 0 50 19 141 34 159 11 15 131 72 250 120 41 17 53 1 32 -43 -9 -19 -19 -54 -22 -79 -5 -37 -3 -48 15 -66 46 -46 105 -20 217 94 76 77 101 95 132 95 22 0 34 -21 38 -65 2 -36 33 -62 82 -70 20 -4 42 -8 47 -10 6 -1 20 -33 32 -71 14 -42 34 -79 50 -95 107 -100 252 -124 381 -62 93 44 184 183 197 303 11 105 56 160 129 160 l39 0 -6 41 c-7 50 -12 56 -33 38 -18 -15 -41 -29 -101 -60 l-42 -22 -64 32 c-145 74 -309 22 -372 -119 -17 -39 -20 -40 -67 -40 -43 0 -48 2 -48 23 0 36 50 106 122 172 75 69 126 97 257 144 34 12 47 23 52 44 4 15 5 27 2 27 -3 0 -41 -10 -85 -22 -72 -19 -85 -20 -131 -9 -29 7 -80 15 -114 18 -59 4 -63 3 -98 -29 -62 -58 -56 -148 11 -148 34 0 35 -11 9 -55 -45 -75 -75 -134 -75 -149 0 -16 -48 -46 -74 -46 -22 0 -62 59 -70 102 -7 40 -20 48 -74 48 -34 0 -45 -8 -133 -100 -102 -106 -126 -118 -154 -76 -30 46 24 144 159 288 35 36 66 78 68 92 3 14 3 26 1 26 -16 0 -100 -70 -163 -137 -69 -74 -79 -81 -132 -92 -74 -16 -111 -1 -116 45 -5 50 48 75 87 40 21 -19 21 -19 22 5 0 13 2 34 5 47 3 18 -3 26 -30 38 -32 16 -36 15 -80 -7 -64 -31 -109 -99 -103 -154 2 -22 7 -47 11 -56 5 -12 -5 -24 -38 -47 -51 -33 -115 -46 -161 -34 -54 15 -57 30 -51 320 2 145 7 266 9 269 3 2 36 -5 75 -16 124 -37 230 -26 307 34 25 19 34 36 44 82 18 90 23 140 21 239 -1 66 2 93 12 102 18 14 148 37 303 52 66 7 125 14 132 15 12 4 29 63 20 72 -3 2 -15 -1 -28 -7 -12 -7 -59 -15 -103 -17 -147 -10 -198 37 -122 113 39 39 54 42 89 14 14 -11 27 -20 29 -20 3 0 11 19 17 42 12 39 12 43 -9 60 -27 22 -90 24 -128 4 -58 -30 -100 -98 -109 -177 -6 -47 -8 -50 -45 -61 -29 -9 -41 -9 -50 0 -20 20 -10 412 10 412 4 0 18 -17 32 -37 l25 -37 3 69 c3 61 -1 76 -33 141 -19 40 -35 82 -35 93 0 15 -6 21 -24 21 -22 0 -24 -6 -35 -87z m-225 -427 c11 -28 -47 -106 -78 -106 -13 0 -9 49 7 80 20 39 60 54 71 26z m-110 -205 c45 -40 90 -51 205 -51 79 0 98 -3 103 -16 12 -32 6 -201 -9 -252 -13 -42 -25 -59 -58 -83 -39 -28 -47 -30 -109 -27 -55 3 -75 9 -110 33 -64 46 -80 81 -86 191 -5 105 -5 105 -85 83 -48 -13 -77 -41 -77 -74 0 -28 2 -29 48 -16 l32 10 0 -43 0 -42 -115 -85 c-63 -46 -129 -88 -146 -93 -28 -8 -34 -7 -51 14 -17 21 -19 37 -16 101 3 69 7 81 42 135 79 119 194 213 295 241 60 16 96 10 137 -26z m1198 -720 c17 -6 15 -9 -13 -21 -17 -7 -50 -26 -72 -42 -38 -28 -42 -28 -65 -13 -30 19 -31 49 -2 69 24 17 117 21 152 7z m126 -294 c-35 -73 -50 -178 -30 -202 25 -30 95 -11 151 42 34 32 46 15 23 -32 -23 -50 -95 -110 -150 -125 -64 -18 -172 -17 -210 3 -56 29 -114 114 -114 167 0 27 43 27 128 0 83 -26 122 -26 122 -1 0 11 3 26 6 35 5 13 -1 16 -27 16 -35 1 -69 19 -69 37 0 39 114 123 166 123 l33 0 -29 -63z m118 23 c29 -18 33 -25 28 -48 -14 -58 -100 -153 -125 -138 -31 20 11 206 47 206 9 0 32 -9 50 -20z m-737 -204 c16 -35 -4 -68 -39 -64 -21 2 -28 9 -30 29 -3 28 20 59 44 59 8 0 19 -11 25 -24z"/>\n
<path fill="${i}" d="M1482 3211 c-26 -46 -29 -113 -6 -131 12 -11 18 -11 30 2 15 14 10 48 -7 48 -14 0 -11 44 6 84 20 48 4 46 -23 -3z"/>\n
<path fill="${i}" d="M1895 3111 c-93 -61 -119 -82 -117 -97 2 -10 6 -21 8 -23 2 -2 220 132 230 143 7 7 12 56 7 55 -5 0 -62 -36 -128 -78z"/>\n
<path fill="${i}" d="M2341 3989 c-6 -18 -11 -34 -11 -36 0 -2 23 -3 52 -1 48 3 53 5 65 36 l13 32 -54 0 c-52 0 -55 -1 -65 -31z"/>\n
<path fill="${i}" d="M1976 3931 c-28 -54 -33 -105 -14 -146 12 -27 36 -33 56 -13 19 19 14 45 -13 66 -29 23 -30 34 -10 92 21 61 11 61 -19 1z"/>\n
<path fill="${i}" d="M2907 3964 c-14 -14 -7 -32 14 -37 19 -5 21 -10 15 -49 -6 -35 -5 -41 6 -30 6 6 12 36 13 65 0 45 -3 52 -20 55 -12 2 -24 0 -28 -4z"/>\n
<path fill="${i}" d="M2540 3879 c-24 -53 -25 -81 -5 -119 17 -34 40 -39 53 -12 12 22 5 43 -20 62 -17 14 -18 21 -9 60 13 59 6 63 -19 9z"/>\n
<path fill="${i}" d="M2975 3759 c-168 -92 -200 -118 -178 -140 9 -9 367 208 372 226 6 22 -22 9 -194 -86z"/>\n
<path fill="${i}" d="M3257 3833 c-11 -10 -8 -43 3 -43 13 0 13 -45 -1 -73 -9 -21 -9 -20 11 2 27 31 35 67 21 97 -11 24 -22 30 -34 17z"/>\n
<path fill="${i}" d="M1661 3799 c-6 -18 -11 -33 -11 -33 0 -1 19 0 43 2 41 4 67 23 67 49 0 9 -14 13 -44 13 -40 0 -45 -3 -55 -31z"/>\n
<path fill="${i}" d="M2393 3823 c-21 -8 -15 -51 9 -67 19 -14 20 -19 11 -51 -13 -40 -2 -47 15 -10 25 55 1 142 -35 128z"/>\n
<path fill="${i}" d="M1832 3738 c-15 -15 -15 -40 0 -73 15 -32 23 -32 38 4 22 55 -4 103 -38 69z"/>\n
<path fill="${i}" d="M1528 3688 c-31 -47 -41 -98 -29 -139 13 -43 22 -47 45 -23 23 22 20 50 -6 69 -23 15 -23 16 -6 62 19 53 18 64 -4 31z"/>\n
<path fill="${i}" d="M3077 3682 c-28 -29 -35 -56 -17 -67 19 -12 10 -37 -27 -71 -39 -35 -143 -109 -165 -117 -7 -2 -10 -7 -6 -11 13 -15 117 46 181 104 66 60 126 157 112 179 -12 20 -51 11 -78 -17z"/>\n
<path fill="${i}" d="M3339 3588 c-6 -24 -16 -49 -21 -56 -17 -20 -38 5 -38 44 0 19 -4 34 -10 34 -5 0 -10 -15 -10 -32 0 -72 -43 -75 -44 -3 -1 41 -13 45 -26 10 -12 -31 2 -101 23 -122 13 -13 17 -13 36 6 20 20 24 20 43 7 42 -30 78 24 78 117 0 50 -17 47 -31 -5z"/>\n
<path fill="${i}" d="M3530 3608 c-8 -13 -13 -44 -13 -73 1 -27 3 -187 4 -354 2 -286 1 -304 -16 -317 -23 -17 -27 -17 -48 -1 -30 22 -39 117 -35 398 2 148 0 269 -3 269 -3 0 -13 -8 -21 -17 -12 -14 -18 -67 -27 -243 -8 -177 -14 -227 -26 -239 -20 -20 -159 -29 -180 -11 -12 10 -11 16 10 44 35 46 55 99 55 145 l0 40 -30 -10 c-42 -15 -84 -67 -135 -169 -42 -84 -47 -90 -86 -100 -43 -12 -87 -6 -131 16 -34 17 -38 17 -38 0 0 -7 21 -34 46 -60 53 -52 53 -69 1 -37 -51 31 -84 26 -173 -24 -91 -52 -124 -56 -153 -19 -40 51 -23 136 65 323 24 52 42 97 39 99 -9 9 -61 -58 -106 -136 -49 -86 -73 -180 -66 -270 7 -88 30 -112 106 -112 60 0 74 7 161 78 28 23 58 42 66 42 8 0 40 -9 71 -20 32 -11 63 -20 70 -20 21 0 15 26 -12 58 -28 34 -33 57 -9 48 9 -3 35 -6 59 -6 l43 0 22 -65 c36 -109 100 -154 146 -104 15 17 19 36 19 96 0 87 1 88 97 98 l66 6 12 -57 c15 -70 45 -104 92 -104 43 0 76 24 94 66 12 29 13 77 5 297 -6 144 -11 308 -13 365 -1 56 -5 102 -8 102 -3 0 -12 -10 -20 -22z m-361 -500 c-47 -94 -87 -129 -74 -65 10 42 38 96 67 127 23 24 23 25 26 3 2 -12 -7 -41 -19 -65z m-31 -200 c26 -34 21 -118 -7 -118 -5 0 -19 21 -30 46 -21 44 -21 47 -5 65 20 22 28 23 42 7z"/>\n
<path fill="${i}" d="M3620 3467 c0 -105 42 -226 124 -355 84 -133 136 -274 136 -367 0 -68 -34 -194 -75 -280 -18 -38 -32 -72 -29 -74 20 -20 112 150 134 248 15 66 8 212 -14 296 -19 69 -71 182 -123 268 -37 61 -35 76 10 77 9 0 17 3 17 7 0 3 -21 38 -47 77 -107 160 -133 180 -133 103z"/>\n
<path fill="${i}" d="M2811 3459 c-12 -19 -21 -46 -21 -60 0 -34 23 -64 44 -56 20 8 21 31 1 47 -18 15 -19 43 -4 72 18 34 1 32 -20 -3z"/>\n
<path fill="${i}" d="M3061 3415 c-29 -38 -36 -81 -16 -111 13 -20 19 -23 31 -13 18 15 18 28 -3 51 -15 16 -15 21 0 58 18 47 16 49 -12 15z"/>\n
<path fill="${i}" d="M2955 3238 c-3 -7 -11 -31 -18 -53 -18 -51 -41 -53 -45 -2 -4 49 -20 47 -28 -3 -11 -68 -44 -62 -44 8 0 51 -24 34 -28 -19 -4 -64 11 -99 43 -99 14 0 25 5 25 11 0 6 15 8 43 4 39 -6 44 -4 54 18 18 39 28 147 14 147 -6 0 -14 -6 -16 -12z"/>\n
<path fill="${i}" d="M2282 3208 c-7 -7 -12 -29 -12 -51 0 -36 2 -38 28 -35 24 3 27 7 25 37 -2 41 -23 67 -41 49z"/>\n
<path fill="${i}" d="M2402 3113 c-7 -3 -24 -28 -39 -56 -39 -78 -72 -117 -99 -117 -28 0 -36 -12 -28 -44 5 -22 9 -23 36 -15 44 12 61 31 96 104 18 35 41 72 52 83 13 12 18 25 14 35 -6 18 -10 19 -32 10z"/>\n
<path fill="${i}" d="M3660 2965 c-2 -214 -11 -553 -15 -614 -7 -84 -32 -216 -47 -245 -7 -13 -7 -16 1 -12 19 12 51 83 65 148 24 107 27 137 33 336 3 105 7 192 10 192 2 0 14 -5 25 -11 20 -11 21 -10 14 41 -6 47 -57 181 -78 205 -4 5 -8 -13 -8 -40z"/>\n
<path fill="${i}" d="M1058 2818 c-3 -36 -7 -43 -28 -48 -30 -7 -51 -53 -32 -72 30 -30 82 47 82 120 0 55 -18 55 -22 0z"/>\n
<path fill="${i}" d="M2210 2805 c-7 -9 -18 -14 -24 -12 -6 2 -18 -3 -26 -12 -12 -14 -141 -95 -333 -211 -35 -20 -37 -24 -24 -38 17 -16 2 -24 305 153 110 64 132 81 132 100 0 30 -14 39 -30 20z"/>\n
<path fill="${i}" d="M1520 2750 c-14 -19 -30 -30 -46 -30 -30 0 -40 -23 -26 -55 18 -39 61 -20 94 41 15 27 28 55 28 62 0 22 -28 12 -50 -18z"/>\n
<path fill="${i}" d="M3343 2758 c-22 -23 -53 -125 -53 -172 0 -20 -9 -32 -35 -47 -36 -22 -39 -27 -29 -53 5 -13 9 -14 32 -2 44 23 59 48 66 111 9 80 23 122 47 138 16 11 17 16 6 31 -12 16 -14 15 -34 -6z"/>\n
<path fill="${i}" d="M1782 2731 c-37 -51 -37 -53 -16 -86 18 -28 45 -32 64 -10 10 12 10 18 0 30 -7 8 -19 15 -26 15 -19 0 -18 29 2 51 9 10 14 24 12 31 -3 7 -18 -6 -36 -31z"/>\n
<path fill="${i}" d="M1124 2732 c-55 -70 -84 -165 -65 -216 13 -33 45 -34 66 -2 16 24 9 66 -14 81 -19 11 -12 51 18 109 32 60 29 72 -5 28z"/>\n
<path fill="${i}" d="M2337 2730 c-14 -16 -29 -39 -32 -50 -9 -30 21 -72 48 -68 29 4 35 38 8 45 -27 7 -27 36 0 74 27 38 8 37 -24 -1z"/>\n
<path fill="${i}" d="M3214 2745 c-9 -23 3 -45 24 -45 25 0 46 25 38 45 -7 19 -55 20 -62 0z"/>\n
<path fill="${i}" d="M3779 2706 c-18 -36 -21 -52 -13 -73 11 -32 41 -42 51 -17 4 11 -2 22 -16 33 -22 17 -22 19 -7 56 23 55 11 56 -15 1z"/>\n
<path fill="${i}" d="M3443 2703 c-27 -4 -33 -9 -33 -29 0 -13 5 -24 10 -24 6 0 15 -11 20 -25 l10 -25 39 26 c22 14 47 36 55 49 14 22 14 23 -16 29 -17 3 -36 5 -42 4 -6 0 -26 -3 -43 -5z"/>\n
<path fill="${i}" d="M2578 2640 c-35 -35 -30 -55 5 -22 27 25 57 29 57 8 0 -23 17 -28 34 -10 12 12 13 20 6 35 -17 30 -66 25 -102 -11z"/>\n
<path fill="${i}" d="M3933 2624 c-4 -10 0 -22 10 -29 21 -15 21 -37 2 -75 -9 -17 -11 -30 -6 -30 5 0 19 21 32 46 17 36 20 53 13 73 -11 30 -41 40 -51 15z"/>\n
<path fill="${i}" d="M1203 2537 c-58 -88 -118 -210 -139 -282 -10 -35 -18 -96 -18 -146 -1 -103 14 -129 73 -129 30 0 43 8 91 60 63 68 77 71 148 38 130 -61 236 4 236 147 0 75 -23 120 -77 148 -53 27 -81 17 -102 -37 -26 -67 -18 -87 42 -116 41 -19 53 -30 53 -48 0 -34 -27 -38 -96 -14 -103 36 -128 32 -188 -33 -41 -44 -57 -55 -82 -55 -42 0 -59 39 -51 118 9 83 37 154 104 268 33 55 62 110 65 122 11 42 -18 22 -59 -41z m311 -229 c24 -34 20 -50 -10 -46 -35 4 -53 31 -35 52 18 21 27 20 45 -6z"/>\n
<path fill="${i}" d="M1437 2553 c-4 -3 -7 -21 -7 -39 0 -27 5 -35 24 -40 39 -9 60 -1 71 30 8 23 6 30 -10 42 -20 15 -67 19 -78 7z"/>\n
<path fill="${i}" d="M2630 2539 c-22 -40 -30 -81 -19 -100 22 -43 83 -47 77 -5 -2 13 -12 22 -26 24 -30 5 -37 25 -22 63 15 35 7 50 -10 18z"/>\n
<path fill="${i}" d="M1830 2457 c-26 -19 -50 -60 -50 -82 0 -12 11 -32 24 -44 22 -21 25 -21 40 -5 21 20 17 36 -12 49 -27 12 -28 25 -1 59 23 30 23 41 -1 23z"/>\n
<path fill="${i}" d="M1248 2433 c-17 -42 -22 -137 -9 -162 10 -17 15 -19 31 -11 25 13 27 65 3 78 -13 8 -15 20 -10 66 6 62 2 70 -15 29z"/>\n
<path fill="${i}" d="M3899 2427 c-19 -12 -45 -43 -58 -70 -30 -61 -19 -95 45 -129 24 -12 44 -26 44 -29 0 -18 -164 -159 -211 -182 -84 -41 -166 -59 -198 -44 -62 30 -65 121 -6 219 37 63 42 78 24 78 -39 0 -139 -165 -139 -229 0 -102 48 -161 131 -161 111 0 253 75 367 194 87 91 115 155 110 253 -3 67 -6 78 -31 99 -34 29 -36 29 -78 1z m59 -90 c6 -52 -45 -79 -68 -36 -9 16 -8 26 5 45 22 35 59 29 63 -9z"/>\n
<path fill="${i}" d="M3767 2204 c-17 -33 -39 -62 -57 -72 -16 -9 -30 -25 -30 -34 0 -47 54 0 95 82 37 74 39 80 27 80 -4 0 -20 -25 -35 -56z"/>\n
<path fill="${i}" d="M2046 2058 c13 -67 26 -83 69 -83 34 0 40 3 43 23 4 25 -23 41 -41 23 -20 -20 -35 -12 -47 24 -15 46 -31 55 -24 13z"/>\n
<path fill="${i}" d="M3339 2063 c-11 -13 -14 -77 -16 -307 0 -160 -5 -319 -10 -354 -12 -83 5 -78 35 11 28 86 42 178 42 296 0 118 -21 371 -30 371 -4 0 -14 -7 -21 -17z"/>\n
<path fill="${i}" d="M1498 1934 c-93 -58 -168 -112 -168 -120 0 -8 4 -14 10 -14 12 0 329 169 333 178 2 4 1 19 -2 34 l-6 28 -167 -106z"/>\n
<path fill="${i}" d="M1265 1925 c-71 -47 -134 -86 -138 -87 -5 -2 -7 -13 -5 -25 3 -20 15 -14 148 66 107 65 146 93 148 109 2 13 -2 22 -10 21 -7 0 -71 -38 -143 -84z"/>\n
<path fill="${i}" d="M2606 1978 c-10 -40 -7 -50 17 -46 17 2 23 11 25 36 3 26 0 32 -16 32 -12 0 -22 -9 -26 -22z"/>\n
<path fill="${i}" d="M3835 1895 c-22 -19 -51 -35 -65 -37 -29 -3 -39 -42 -18 -70 20 -28 55 -3 99 71 53 86 50 93 -16 36z"/>\n
<path fill="${i}" d="M2676 1885 c-15 -35 -18 -37 -51 -31 -40 8 -57 -12 -35 -39 31 -38 91 0 105 66 10 45 -1 47 -19 4z"/>\n
<path fill="${i}" d="M1722 1903 c-21 -8 -42 -60 -42 -106 0 -54 -20 -81 -89 -122 -28 -16 -51 -33 -51 -37 0 -19 34 -4 105 44 55 37 86 52 105 50 27 -3 27 -3 34 77 4 45 5 85 1 91 -6 10 -41 12 -63 3z"/>\n
<path fill="${i}" d="M2763 1812 c-34 -46 -36 -77 -9 -109 20 -23 26 -25 40 -14 22 18 20 38 -4 51 -22 12 -26 41 -9 72 16 31 5 31 -18 0z"/>\n
<path fill="${i}" d="M3091 1829 c-14 -5 -47 -13 -75 -17 -47 -7 -51 -10 -54 -36 -3 -28 -2 -29 30 -22 58 13 63 12 60 -9 -2 -11 -11 -28 -20 -38 -21 -24 -8 -33 24 -16 28 14 77 80 94 123 8 23 7 26 -13 25 -12 0 -33 -5 -46 -10z"/>\n
<path fill="${i}" d="M1513 1772 c-57 -84 -76 -139 -81 -239 -4 -73 -1 -103 13 -138 22 -58 69 -95 121 -95 33 0 44 7 89 54 75 80 145 94 271 54 93 -29 196 -29 292 0 54 17 77 20 91 12 40 -21 86 -10 221 54 74 35 152 72 173 81 41 19 99 86 61 71 -83 -34 -195 -66 -231 -66 -71 0 -110 63 -65 103 20 19 87 23 97 7 10 -16 19 -12 37 20 16 29 16 30 -5 45 -27 19 -68 19 -115 0 -73 -31 -94 -66 -107 -178 -6 -52 -9 -58 -28 -55 -15 2 -25 13 -31 34 l-9 31 -29 -32 c-61 -70 -142 -81 -321 -44 -151 30 -221 15 -308 -66 -61 -57 -97 -60 -133 -12 -58 77 -56 174 9 299 25 48 45 91 45 97 0 25 -27 8 -57 -37z"/>\n
<path fill="${i}" d="M2317 1767 c-39 -36 -53 -73 -43 -112 5 -18 13 -25 30 -25 33 0 43 30 17 52 -28 22 -27 31 10 73 41 47 31 55 -14 12z"/>\n
<path fill="${i}" d="M3580 1764 c-77 -65 -80 -155 -7 -183 l27 -11 -31 -51 c-46 -74 -133 -165 -183 -188 -58 -28 -144 -29 -179 -1 -43 34 -45 74 -11 230 3 14 -10 -4 -29 -40 -19 -36 -40 -91 -47 -123 -14 -69 -35 -82 -120 -73 -71 7 -92 30 -88 95 3 40 7 47 31 56 23 8 36 5 67 -12 22 -11 41 -18 44 -15 13 12 5 60 -13 76 -23 21 -93 25 -116 6 -51 -43 -66 -156 -27 -209 l23 -31 -33 -20 c-43 -26 -52 -25 -66 4 -18 40 -55 59 -101 51 -45 -7 -68 -28 -81 -76 -11 -38 6 -73 40 -84 11 -3 20 -10 20 -14 0 -14 -152 -80 -220 -96 -36 -8 -111 -18 -167 -21 -232 -15 -350 51 -341 191 4 65 -13 73 -35 18 -50 -126 -21 -201 98 -254 43 -19 72 -23 200 -27 248 -6 326 19 577 189 135 91 151 99 195 99 26 0 66 5 88 10 34 8 48 5 93 -17 61 -30 111 -28 189 9 90 42 230 203 288 331 33 72 46 161 28 187 -21 29 -74 26 -113 -6z m58 -76 c2 -19 -2 -28 -17 -33 -26 -8 -41 1 -41 24 0 44 53 53 58 9z m-867 -424 c17 -21 0 -49 -32 -49 -24 0 -36 23 -25 51 7 19 40 18 57 -2z"/>\n
<path fill="${i}" d="M3247 1735 c-19 -39 -45 -55 -57 -35 -11 18 -45 8 -48 -16 -5 -35 20 -47 61 -31 27 12 39 25 52 61 21 56 15 70 -8 21z"/>\n
<path fill="${i}" d="M1287 1742 c-26 -29 -38 -71 -27 -92 16 -30 48 -44 66 -29 22 18 17 36 -16 48 -35 12 -35 11 -16 56 17 40 16 42 -7 17z"/>\n
<path fill="${i}" d="M1863 1723 c-7 -2 -13 -12 -13 -22 0 -9 6 -23 13 -30 10 -10 5 -18 -23 -42 -23 -19 -29 -29 -18 -29 25 0 75 46 80 74 5 24 -7 57 -20 55 -4 0 -13 -3 -19 -6z"/>\n
<path fill="${i}" d="M3451 1649 c-6 -18 -11 -54 -11 -81 0 -41 3 -49 17 -46 21 4 31 36 32 106 1 61 -20 72 -38 21z"/>\n
<path fill="${i}" d="M2048 1644 c-8 -18 -9 -30 -1 -42 22 -35 103 -21 103 18 0 39 -11 50 -51 50 -33 0 -41 -4 -51 -26z"/>\n
<path fill="${i}" d="M2700 1501 c-25 -48 4 -86 60 -75 24 5 30 12 30 31 0 40 -18 63 -50 63 -19 0 -33 -7 -40 -19z"/>\n
<path fill="${i}" d="M2272 1358 c-16 -16 -15 -35 5 -69 24 -40 33 -36 33 15 0 48 -18 74 -38 54z"/>\n
<path fill="${i}" d="M2432 1323 c-7 -3 -26 -31 -42 -62 -36 -72 -58 -92 -71 -68 -16 28 -39 21 -39 -13 0 -38 27 -54 68 -39 20 7 39 28 63 69 21 36 42 60 54 62 13 2 21 12 23 31 3 23 0 27 -20 26 -13 0 -29 -3 -36 -6z"/>\n
<path fill="${i}" d="M1801 1292 c-13 -25 -15 -139 -2 -147 18 -11 35 40 32 95 -3 62 -14 82 -30 52z"/>\n
<path fill="${i}" d="M2115 1246 c-20 -48 -25 -120 -8 -137 7 -7 15 -10 19 -6 11 10 21 131 14 157 -7 24 -8 24 -25 -14z"/>\n
<path fill="${i}" d="M3026 1202 c-2 -4 -7 -25 -11 -47 -8 -43 -39 -85 -63 -85 -8 0 -21 8 -28 18 -12 15 -15 15 -24 2 -15 -23 -23 -58 -16 -76 5 -12 14 -14 34 -10 67 16 81 27 97 77 11 31 27 56 46 70 39 28 39 59 0 59 -17 0 -32 -3 -35 -8z"/>\n
<path fill="${i}" d="M2768 1079 c-30 -17 -19 -119 12 -119 19 0 30 36 30 96 0 35 -11 41 -42 23z"/>\n
<path fill="${i}" d="M997 4034 c-12 -12 -8 -42 6 -47 21 -8 39 8 35 29 -3 19 -29 30 -41 18z"/>\n
<path fill="${i}" d="M900 3975 c0 -9 5 -15 11 -13 6 2 11 8 11 13 0 5 -5 11 -11 13 -6 2 -11 -4 -11 -13z"/>\n
<path fill="${i}" d="M830 3935 c0 -8 5 -15 10 -15 6 0 10 7 10 15 0 8 -4 15 -10 15 -5 0 -10 -7 -10 -15z"/>\n
<path fill="${i}" d="M719 3914 c-9 -11 -10 -20 -2 -32 15 -24 44 -27 59 -7 28 38 -27 75 -57 39z"/>\n
<path fill="${i}" d="M720 3800 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M695 3730 c-3 -6 1 -13 10 -16 19 -8 30 0 20 15 -8 14 -22 14 -30 1z"/>\n
<path fill="${i}" d="M690 3632 c0 -5 7 -13 16 -16 10 -4 14 -1 12 6 -5 15 -28 23 -28 10z"/>\n
<path fill="${i}" d="M610 3586 c0 -9 7 -16 16 -16 9 0 14 5 12 12 -6 18 -28 21 -28 4z"/>\n
<path fill="${i}" d="M550 3530 c0 -5 7 -10 16 -10 8 0 12 5 9 10 -3 6 -10 10 -16 10 -5 0 -9 -4 -9 -10z"/>\n
<path fill="${i}" d="M456 3494 c-21 -20 -20 -27 3 -48 22 -20 48 -12 57 17 4 14 1 25 -12 34 -23 17 -29 16 -48 -3z"/>\n
<path fill="${i}" d="M475 3370 c3 -5 10 -10 16 -10 5 0 9 5 9 10 0 6 -7 10 -16 10 -8 0 -12 -4 -9 -10z"/>\n
<path fill="${i}" d="M476 3303 c-11 -11 -6 -23 9 -23 8 0 15 4 15 9 0 13 -16 22 -24 14z"/>\n
<path fill="${i}" d="M470 3195 c-11 -13 -11 -18 2 -31 20 -20 50 -7 46 20 -4 26 -30 32 -48 11z"/>\n
<path fill="${i}" d="M4264 3655 c-8 -20 4 -35 26 -35 23 0 32 13 24 34 -8 20 -43 21 -50 1z"/>\n
<path fill="${i}" d="M4365 3591 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M4430 3530 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M4496 3494 c-21 -20 -20 -27 3 -48 22 -20 48 -12 57 17 4 14 1 25 -12 34 -23 17 -29 16 -48 -3z"/>\n
<path fill="${i}" d="M4505 3370 c3 -5 10 -10 16 -10 5 0 9 5 9 10 0 6 -7 10 -16 10 -8 0 -12 -4 -9 -10z"/>\n
<path fill="${i}" d="M4505 3301 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M4490 3194 c-11 -12 -10 -18 3 -32 16 -15 18 -15 33 0 19 18 12 48 -9 48 -8 0 -20 -7 -27 -16z"/>\n
<path fill="${i}" d="M372 2758 c2 -15 10 -23 23 -23 13 0 21 8 23 23 3 18 -1 22 -23 22 -22 0 -26 -4 -23 -22z"/>\n
<path fill="${i}" d="M325 2670 c-4 -6 -3 -16 3 -22 6 -6 12 -6 17 2 4 6 3 16 -3 22 -6 6 -12 6 -17 -2z"/>\n
<path fill="${i}" d="M295 2591 c-6 -11 9 -23 19 -14 9 9 7 23 -3 23 -6 0 -12 -4 -16 -9z"/>\n
<path fill="${i}" d="M226 2514 c-8 -20 10 -54 29 -54 14 0 45 26 45 39 0 29 -64 42 -74 15z"/>\n
<path fill="${i}" d="M295 2410 c3 -5 10 -10 16 -10 5 0 9 5 9 10 0 6 -7 10 -16 10 -8 0 -12 -4 -9 -10z"/>\n
<path fill="${i}" d="M325 2341 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M374 2256 c-9 -24 4 -48 23 -44 12 2 18 12 18 28 0 29 -32 41 -41 16z"/>\n
<path fill="${i}" d="M4584 2765 c-4 -9 -2 -21 4 -27 16 -16 47 -5 47 17 0 26 -42 34 -51 10z"/>\n
<path fill="${i}" d="M4655 2670 c-4 -6 -3 -16 3 -22 6 -6 12 -6 17 2 4 6 3 16 -3 22 -6 6 -12 6 -17 -2z"/>\n
<path fill="${i}" d="M4686 2591 c-4 -5 -2 -12 3 -15 5 -4 12 -2 15 3 4 5 2 12 -3 15 -5 4 -12 2 -15 -3z"/>\n
<path fill="${i}" d="M4713 2514 c-8 -22 10 -49 32 -49 10 0 22 7 28 16 15 24 1 49 -28 49 -15 0 -28 -7 -32 -16z"/>\n
<path fill="${i}" d="M4680 2410 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/>\n
<path fill="${i}" d="M4650 2334 c0 -9 5 -14 12 -12 18 6 21 28 4 28 -9 0 -16 -7 -16 -16z"/>\n
<path fill="${i}" d="M4583 2254 c-3 -8 2 -23 11 -32 15 -15 17 -15 33 0 13 14 14 20 3 32 -16 20 -39 20 -47 0z"/>\n
<path fill="${i}" d="M466 1831 c-11 -18 6 -42 28 -39 29 4 29 42 -1 46 -11 2 -24 -1 -27 -7z"/>\n
<path fill="${i}" d="M470 1704 c0 -17 22 -14 28 4 2 7 -3 12 -12 12 -9 0 -16 -7 -16 -16z"/>\n
<path fill="${i}" d="M476 1631 c-4 -5 -2 -12 3 -15 5 -4 12 -2 15 3 4 5 2 12 -3 15 -5 4 -12 2 -15 -3z"/>\n
<path fill="${i}" d="M451 1541 c-13 -24 8 -55 34 -50 28 6 42 34 26 53 -18 22 -48 20 -60 -3z"/>\n
<path fill="${i}" d="M552 1471 c2 -7 7 -12 11 -12 12 1 9 15 -3 20 -7 2 -11 -2 -8 -8z"/>\n
<path fill="${i}" d="M610 1416 c0 -9 7 -16 16 -16 9 0 14 5 12 12 -6 18 -28 21 -28 4z"/>\n
<path fill="${i}" d="M697 1374 c-12 -12 -8 -42 6 -47 21 -8 39 8 35 29 -3 19 -29 30 -41 18z"/>\n
<path fill="${i}" d="M4484 1825 c-4 -9 -2 -21 4 -27 16 -16 47 -5 47 17 0 26 -42 34 -51 10z"/>\n
<path fill="${i}" d="M4505 1711 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M4506 1631 c-4 -5 -2 -12 3 -15 5 -4 12 -2 15 3 4 5 2 12 -3 15 -5 4 -12 2 -15 -3z"/>\n
<path fill="${i}" d="M4491 1541 c-13 -24 8 -55 34 -50 28 6 42 34 26 53 -18 22 -48 20 -60 -3z"/>\n
<path fill="${i}" d="M4430 1470 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M4365 1421 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M4285 1370 c3 -5 13 -10 21 -10 8 0 12 5 9 10 -3 6 -13 10 -21 10 -8 0 -12 -4 -9 -10z"/>\n
<path fill="${i}" d="M4280 1274 c0 -9 5 -14 12 -12 18 6 21 28 4 28 -9 0 -16 -7 -16 -16z"/>\n
<path fill="${i}" d="M4260 1200 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M4232 1128 c-30 -30 3 -77 40 -57 30 16 16 69 -17 69 -6 0 -16 -5 -23 -12z"/>\n
<path fill="${i}" d="M4150 1060 c0 -5 4 -10 9 -10 6 0 13 5 16 10 3 6 -1 10 -9 10 -9 0 -16 -4 -16 -10z"/>\n
<path fill="${i}" d="M4080 1025 c0 -9 5 -15 11 -13 6 2 11 8 11 13 0 5 -5 11 -11 13 -6 2 -11 -4 -11 -13z"/>\n
<path fill="${i}" d="M3964 995 c-4 -9 -2 -21 4 -27 16 -16 47 -5 47 17 0 26 -42 34 -51 10z"/>\n
<path fill="${i}" d="M967 1033 c-13 -12 -7 -41 10 -47 9 -4 23 0 31 8 13 12 13 18 2 30 -13 17 -32 21 -43 9z"/>\n
<path fill="${i}" d="M1012 909 c2 -6 8 -10 13 -10 5 0 11 4 13 10 2 6 -4 11 -13 11 -9 0 -15 -5 -13 -11z"/>\n
<path fill="${i}" d="M1052 839 c2 -6 8 -10 13 -10 5 0 11 4 13 10 2 6 -4 11 -13 11 -9 0 -15 -5 -13 -11z"/>\n
<path fill="${i}" d="M1074 766 c-10 -26 1 -51 22 -54 27 -4 47 21 39 48 -7 24 -53 28 -61 6z"/>\n
<path fill="${i}" d="M1190 730 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M1265 711 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M1367 714 c-4 -4 -7 -14 -7 -23 0 -11 3 -12 11 -4 6 6 10 16 7 23 -2 6 -7 8 -11 4z"/>\n
<path fill="${i}" d="M1405 630 c-4 -6 -3 -16 3 -22 6 -6 12 -6 17 2 4 6 3 16 -3 22 -6 6 -12 6 -17 -2z"/>\n
<path fill="${i}" d="M1460 560 c0 -5 5 -10 10 -10 6 0 10 5 10 10 0 6 -4 10 -10 10 -5 0 -10 -4 -10 -10z"/>\n
<path fill="${i}" d="M1800 505 c-16 -19 -6 -45 19 -45 23 0 35 28 20 46 -15 18 -24 18 -39 -1z"/>\n
<path fill="${i}" d="M1495 489 c-9 -28 16 -53 43 -45 44 14 33 66 -14 66 -14 0 -25 -8 -29 -21z"/>\n
<path fill="${i}" d="M1616 492 c-3 -6 -1 -14 5 -17 15 -10 25 3 12 16 -7 7 -13 7 -17 1z"/>\n
<path fill="${i}" d="M1695 490 c-4 -6 -3 -16 3 -22 6 -6 12 -6 17 2 4 6 3 16 -3 22 -6 6 -12 6 -17 -2z"/>\n
<path fill="${i}" d="M3627 733 c-13 -12 -7 -41 10 -47 9 -4 23 0 31 8 13 12 13 18 2 30 -13 17 -32 21 -43 9z"/>\n
<path fill="${i}" d="M3575 630 c-4 -6 -3 -16 3 -22 6 -6 12 -6 17 2 4 6 3 16 -3 22 -6 6 -12 6 -17 -2z"/>\n
<path fill="${i}" d="M3520 560 c0 -5 7 -10 16 -10 8 0 12 5 9 10 -3 6 -10 10 -16 10 -5 0 -9 -4 -9 -10z"/>\n
<path fill="${i}" d="M3164 506 c-9 -24 4 -48 23 -44 12 2 18 12 18 28 0 29 -32 41 -41 16z"/>\n
<path fill="${i}" d="M3455 506 c-20 -15 -17 -44 7 -59 12 -8 21 -7 32 2 36 30 -1 85 -39 57z"/>\n
<path fill="${i}" d="M3285 490 c-4 -6 -3 -16 3 -22 6 -6 12 -6 17 2 4 6 3 16 -3 22 -6 6 -12 6 -17 -2z"/>\n
<path fill="${i}" d="M3366 491 c-4 -5 -2 -12 3 -15 5 -4 12 -2 15 3 4 5 2 12 -3 15 -5 4 -12 2 -15 -3z"/>\n
<path fill="${i}" d="M2224 406 c-9 -24 4 -48 23 -44 24 4 24 52 0 56 -9 2 -20 -4 -23 -12z"/>\n
<path fill="${i}" d="M2733 404 c-3 -8 2 -23 11 -32 15 -15 17 -15 33 0 13 14 14 20 3 32 -16 20 -39 20 -47 0z"/>\n
<path fill="${i}" d="M2325 341 c-7 -12 12 -24 25 -16 11 7 4 25 -10 25 -5 0 -11 -4 -15 -9z"/>\n
<path fill="${i}" d="M2650 334 c0 -17 22 -14 28 4 2 7 -3 12 -12 12 -9 0 -16 -7 -16 -16z"/>\n
<path fill="${i}" d="M2406 311 c-4 -5 -2 -12 3 -15 5 -4 12 -2 15 3 4 5 2 12 -3 15 -5 4 -12 2 -15 -3z"/>\n
<path fill="${i}" d="M2580 305 c0 -8 5 -15 10 -15 6 0 10 7 10 15 0 8 -4 15 -10 15 -5 0 -10 -7 -10 -15z"/>\n
<path fill="${i}" d="M2471 271 c-13 -24 8 -55 34 -50 28 6 42 34 26 53 -18 22 -48 20 -60 -3z"/>\n
</g>
</svg> `;
  }

  // Define variables to hold family data and total member count
  var familyData;
  var totalMembers;


  FamilyTree.templates.john_male.button = `<g id="sriniz_male_up"><circle cx="100" cy="10" r="15" fill="#fff" stroke="#fff" stroke-width="1"></circle>${FamilyTree.icon.rose(30, 30, '#000000', 85, -5)}</g>`;
  FamilyTree.templates.john_female.button = `<g id="sriniz_male_up"><circle cx="100" cy="10" r="15" fill="#fff" stroke="#fff" stroke-width="1"></circle>${FamilyTree.icon.rose(30, 30, '#000000', 85, -5)}</g>`;

  // Define custom node templates for male and female nodes in the family tree
  FamilyTree.templates.tommy_male.plus = '<circle cx="0" cy="0" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle>' + '<line x1="-11" y1="0" x2="11" y2="0" stroke-width="1" stroke="#aeaeae"></line>' + '<line x1="0" y1="-11" x2="0" y2="11" stroke-width="1" stroke="#aeaeae"></line>';
  FamilyTree.templates.tommy_male.minus = '<circle cx="0" cy="0" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle>' + '<line x1="-11" y1="0" x2="11" y2="0" stroke-width="1" stroke="#aeaeae"></line>';
  FamilyTree.templates.tommy_female.plus = '<circle cx="0" cy="0" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle>' + '<line x1="-11" y1="0" x2="11" y2="0" stroke-width="1" stroke="#aeaeae"></line>' + '<line x1="0" y1="-11" x2="0" y2="11" stroke-width="1" stroke="#aeaeae"></line>';
  FamilyTree.templates.tommy_female.minus = '<circle cx="0" cy="0" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle>' + '<line x1="-11" y1="0" x2="11" y2="0" stroke-width="1" stroke="#aeaeae"></line>';

  // Define custom SVG defs for heart symbol for both male and female nodes
  FamilyTree.templates.tommy_female.defs = '<g transform="matrix(0.05,0,0,0.05,-12,-9)" id="heart"><path fill="#F57C00" d="M438.482,58.61c-24.7-26.549-59.311-41.655-95.573-41.711c-36.291,0.042-70.938,15.14-95.676,41.694l-8.431,8.909  l-8.431-8.909C181.284,5.762,98.663,2.728,45.832,51.815c-2.341,2.176-4.602,4.436-6.778,6.778 c-52.072,56.166-52.072,142.968,0,199.134l187.358,197.581c6.482,6.843,17.284,7.136,24.127,0.654 c0.224-0.212,0.442-0.43,0.654-0.654l187.29-197.581C490.551,201.567,490.551,114.77,438.482,58.61z"/><g>';
  FamilyTree.templates.tommy_male.defs = '<g transform="matrix(0.05,0,0,0.05,-12,-9)" id="heart"><path fill="#F57C00" d="M438.482,58.61c-24.7-26.549-59.311-41.655-95.573-41.711c-36.291,0.042-70.938,15.14-95.676,41.694l-8.431,8.909  l-8.431-8.909C181.284,5.762,98.663,2.728,45.832,51.815c-2.341,2.176-4.602,4.436-6.778,6.778 c-52.072,56.166-52.072,142.968,0,199.134l187.358,197.581c6.482,6.843,17.284,7.136,24.127,0.654 c0.224-0.212,0.442-0.43,0.654-0.654l187.29-197.581C490.551,201.567,490.551,114.77,438.482,58.61z"/><g>';


  // Define a template for filtered nodes
  FamilyTree.templates.filtered = Object.assign({}, FamilyTree.templates.tommy);
  FamilyTree.templates.filtered.node = '<rect x="0" y="0" height="{h}" width="{w}"stroke-width="1" fill="#aeaeae" stroke="#aeaeae" rx="7" ry="7"></rect>';

  // Display loading spinner before fetching and initializing family data
  document.getElementById("loading-spinner").style.display = "block";

  // Function to fetch family data and initialize family tree
  function fetchFamilyDataAndInitialize() {
    return fetchFamilyData()
      .then(function (data) {
        familyData = data;
        totalMembers = familyData.length;
        // Return total members count
        return { totalMembers };
      })
      .catch(function (error) {
        console.log('Error:', error);
        return null;
      });
  }

  // Function to initialize family data, either from local storage or by fetching from server
  function initializeFamilyData() {
    // Retrieve family data from local storage if available and not expired
    const storedData = {
      familyData: localStorage.getItem("familyData"),
      expiryTime: localStorage.getItem("familyDataExpiry")
    };

    if (storedData.familyData && storedData.expiryTime > Date.now()) {
      // Use family data from local storage
      familyData = JSON.parse(storedData.familyData);
      totalMembers = familyData.length;
      return Promise.resolve({ totalMembers });
    } else {
      // Fetch family data and save it in local storage
      return fetchFamilyDataAndInitialize()
        .then(function (data) {
          if (data) {
            // Save family data in local storage along with expiration time
            const expirationTime = Date.now() + (1 * 60 * 60 * 1000); // Expiry time in milliseconds (1 hour)
            localStorage.setItem("familyData", JSON.stringify(familyData));
            localStorage.setItem("familyDataExpiry", expirationTime);
          }
          return data;
        });
    }
  }

  function getOptions() {
    const searchParams = new URLSearchParams(window.location.search);
    var fit = searchParams.get('fit');
    var enableSearch = true;
    var scaleInitial = 1;
    if (fit == 'yes') {
      enableSearch = false;
      scaleInitial = FamilyTree.match.boundary;
    }
    return { enableSearch, scaleInitial };
  }

  // Function to initialize the family tree
  function initializeFamilyTree() {
    var options = getOptions();

    // Function to create the family tree with the specified orientation
    var createFamilyTree = function (orientation) {
      var family = new FamilyTree(document.getElementById("tree"), {
        mouseScrool: FamilyTree.action.zoom,
        scaleInitial: options.scaleInitial,
        mode: 'dark',
        template: 'john',
        toolbar: {
          fullScreen: true,
          zoom: true,
          fit: true,
          expandAll: true,
        },
        nodeBinding: {
          field_0: 'name', // Bind field_0 to the name property of the node
          img_0: 'photo', // Bind img_0 to the img property of the node
          button: 'died'
        },
        editForm: {
          readOnly: true,
          titleBinding: "name",
          photoBinding: "photo",
          buttons: {
            edit: null,
            remove: null
          },
          generateElementsFromFields: false,
          elements: [
            { type: 'textbox', label: 'Nama', binding: 'fullname' },
            { type: 'textbox', label: 'Alamat', binding: 'address' },
            { type: 'textbox', label: 'Tanggal Lahir', binding: 'born' },
            { type: 'textbox', label: 'Wafat', binding: 'died' },
            { type: 'textbox', label: 'Umur', binding: 'age' },
            { type: 'textbox', label: 'HP', binding: 'phone' },
          ]
        },
        collapse: {
          level: 2
        },
        /**
        filterBy: {
          gender: {} // Define a filter for gender
        },
        */
        nodes: familyData // Provide the family data for rendering the tree
      });

      // Event listener for expand/collapse actions on nodes
      family.on('expcollclick', function (sender, isCollapsing, nodeId) {
        var node = family.getNode(nodeId);
        if (isCollapsing) {
          family.expandCollapse(nodeId, [], node.ftChildrenIds);
        } else {
          family.expandCollapse(nodeId, node.ftChildrenIds, []);
        }
        return false;
      });

      // Event listener for custom rendering of links between nodes
      family.on('render-link', function (sender, args) {
        if (args.cnode.ppid != undefined)
          args.html += '<use data-ctrl-ec-id="' + args.node.id + '" xlink:href="#heart" x="' + (args.p.xa) + '" y="' + (args.p.ya) + '"/>';
        if (args.cnode.isPartner && args.node.partnerSeparation == 30)
          args.html += '<use data-ctrl-ec-id="' + args.node.id + '" xlink:href="#heart" x="' + (args.p.xb) + '" y="' + (args.p.yb) + '"/>';
      });

      return family; // Return the created family tree
    };

    // Create the family tree with the initial orientation (bottom left)
    var family = createFamilyTree(FamilyTree.orientation.top);
  }

  // Initialize family data and then initialize the family tree
  initializeFamilyData()
    .then(function (data) {
      if (data) {
        // Update the total member count in the HTML
        document.getElementById("total-members").textContent = data.totalMembers;
        // Hide the loading spinner
        document.getElementById("loading-spinner").style.display = "none";
        // Initialize the family tree
        initializeFamilyTree();
      }
    });

}
